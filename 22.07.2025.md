
Дата 22.07.2025

## Сделано за день 
------------------------------------------------------------------------
1. Починил авторизацию и в целом загрузку файлов
2. Начал разбираться с циклом работы QR
   У нас на 90% работает загрузка pdf на сервер, они привязываются к продукту и отображаются при создании поставки
   Если начать новую поставку с продуктом, для которого уже были загружены PDF они отображаются
   В БД они отображаются
   Если Смотреть на таблицу, которая отображается у менеджера, когда он открывает поставку, то там еще не обновлено, чтобы отдельные размеры раскрывались, но это кажется где-то реализовано, нужно только дескриптор переписать (1)
   Когда нажимаю на QR в таблице, открывается окошко где можно выбрать, сколько напечатать
   Тут сразу упираемся в данные, которые передаются, потому что там передается в тестовых у Илюхи только картинка с QR, но это я поправлю (3), когда буду делать открытие таблицы сделки через шторку (2)
   Идем дальше
   Я нашел методы FTS сервера, которые позволяют удалить файл, удалить часть страниц из него и тп
   Но так как файлы, привязанные к одному продукту хранятся отдельно, а не как один огромный, при распечатке придется метод модифицировать, чтобы он при нехватке QR в файле переходил к следующему (4)
   Метод, который отображает общее количество QR привязанных к продукту есть, так что ограничить максимальное кол на печать мы можем, тут проблем нет
   Остается вопрос с возвратом неиспользованных, это пока не реализовано никак вообще, нужно понять, как это вообще будет выглядеть, возможно имеет смысл создавать отдельный файл с удаленными и при нажатии на кнопку выбирать, какой мы хотим вернуть, но тут прям отдельно нужно будет подразобраться с объединением pdf файлов, в целом, должно быть не сложно, но какое-то время займет (5)
   Все взаимодействие между файловым сервисом идет от UI, а а бэке, как я понял, работает сокет, поэтому надо будет написать методы, которые будут оповещать бд о изменениях в файлах, ибо сейчас работает только событие добавление, о других действиях бэк не в курсах (6)
   В остальном, все работает вполне стабильно
   
___________________________________________________________
## Вопросы
------------------------------------------------------------------------
1. (5) надо обсудить
________________________________________________________________________
## Дальнейшие планы
------------------------------------------------------------------------
Отметил номерами в скобочках
________________________________________________________________________
